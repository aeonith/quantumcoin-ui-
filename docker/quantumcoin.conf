# QuantumCoin Node Configuration
# Production-ready configuration with security best practices

[network]
# Network to connect to (mainnet, testnet, regtest)
network = "mainnet"

# P2P network binding
p2p_bind = "0.0.0.0:8546"

# Maximum number of peer connections
max_peers = 125

# Enable UPnP for NAT traversal
upnp = true

# Peer discovery via DNS seeds
dns_seeds = [
    "seed1.quantumcoincrypto.com",
    "seed2.quantumcoincrypto.com", 
    "seed3.quantumcoincrypto.com",
    "seed4.quantumcoincrypto.com"
]

[rpc]
# RPC server binding (bind to all interfaces in Docker)
bind = "0.0.0.0:8545"

# Enable RPC server
enabled = true

# RPC authentication (disabled in Docker - use reverse proxy)
auth_required = false

# Allowed RPC methods for external calls
allowed_methods = [
    "getblockchaininfo",
    "getmininginfo", 
    "getblock",
    "getrawtransaction",
    "sendrawtransaction",
    "getaddressbalance",
    "getaddresshistory",
    "template",  # Mining endpoint
    "submit"     # Mining endpoint
]

# CORS settings for web clients
cors_origins = ["*"]

# Rate limiting
rate_limit_requests_per_minute = 300

[mining]
# Enable mining (can be overridden by CLI)
enabled = false

# Mining address for block rewards (must be set if mining enabled)
address = ""

# Mining threads (0 = auto-detect CPU cores)
threads = 0

# Minimum transaction fee to include in blocks (satoshis per byte)
min_fee_rate = 1

[database]
# Database backend (sqlite, postgresql)
backend = "sqlite"

# Database file path (for SQLite)
path = "/data/quantumcoin/blockchain.db"

# Connection pool size
max_connections = 10

# Enable Write-Ahead Logging for better performance
wal_mode = true

[security]
# Enable post-quantum signature verification
dilithium_verification = true

# Require minimum confirmations for sensitive operations
min_confirmations = 6

# RevStop feature (transaction reversal - DISABLED by default)
revstop_enabled = false

# Maximum block size (bytes)
max_block_size = 4000000

# Maximum transaction size (bytes)  
max_transaction_size = 400000

[logging]
# Log level (error, warn, info, debug, trace)
level = "info"

# Log format (json, pretty)
format = "json"

# Log file path (empty = stdout only)
file = ""

# Rotate log files
rotate = true
max_file_size = "100MB"
max_files = 10

[monitoring]
# Enable Prometheus metrics
prometheus_enabled = true
prometheus_bind = "0.0.0.0:9090"

# Enable health check endpoint
health_check_enabled = true

# Node identification
node_version = "1.0.0"
user_agent = "QuantumCoin Node"

[economic]
# Block reward and halving parameters (informational - not configurable)
initial_reward = 5000000000  # 50 QTC in satoshis
halving_interval = 105120    # ~2 years at 10min blocks
max_supply = 2200000000000000 # 22M QTC in satoshis

# Target block time (seconds)
target_block_time = 600

# Difficulty adjustment interval (blocks)
difficulty_adjustment_interval = 144

[exchange]
# Exchange-specific settings
enable_detailed_logging = true
track_address_history = true
enable_batch_operations = true
