<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>QuantumCoinâ„¢</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <video id="bg-video" autoplay muted playsinline>
    <source src="quantum-bg.mp4" type="video/mp4">
  </video>

  <script>
    const video = document.getElementById('bg-video');
    video.addEventListener('timeupdate', () => {
      if (video.currentTime >= 5) {
        video.currentTime = 0;
        video.play();
      }
    });
  </script>

  <div class="container">
    <div class="logo">ðŸš€ QuantumCoinâ„¢</div>
    <div class="slogan">Secure. Sovereign. Quantum-Ready.</div>

    <div class="box">
      <input type="email" placeholder="Email" id="email" />
      <input type="password" placeholder="Password" id="password" />
      <input type="password" placeholder="Confirm Password" id="confirm-password" style="display: none;" />
      <button id="form-button">ðŸš€ Login</button>
      <div class="terms-check">
        <label>
          <input type="checkbox" required />
          I agree to the <a href="#" id="open-terms">Terms & Conditions</a>
        </label>
      </div>
      <div class="toggle">
        New here? <a href="#" id="toggle-form">Register</a>
      </div>
    </div>

    <div class="btc-info">
      <h2>ðŸš€ The QuantumCoinâ„¢ Vision</h2>
      <p>QuantumCoinâ„¢ is a next-generation digital currency engineered from the ground up to be quantum-resistant...</p>
      <!-- Keep the rest of your original paragraphs -->
    </div>

    <footer>
      &copy; 2025 QuantumCoinâ„¢. All rights reserved.
    </footer>
  </div>

  <!-- Modal for Terms -->
  <div id="terms-modal" class="modal hidden">
    <div class="modal-content">
      <span class="close-btn" id="close-terms">&times;</span>
      <h2>QuantumCoinâ„¢ Terms & Conditions</h2>
      <div class="modal-scroll">
        <p>By using QuantumCoinâ„¢, you agree to the following terms...</p>
      </div>
    </div>
  </div>

  <script>
    const toggleForm = document.getElementById('toggle-form');
    const formButton = document.getElementById('form-button');
    const confirmPassword = document.getElementById('confirm-password');
    let isLogin = true;

    toggleForm.addEventListener('click', (e) => {
      e.preventDefault();
      isLogin = !isLogin;
      formButton.textContent = isLogin ? 'ðŸš€ Login' : 'ðŸš€ Register';
      toggleForm.textContent = isLogin ? 'Register' : 'Back to Login';
      confirmPassword.style.display = isLogin ? 'none' : 'block';
    });

    const termsLink = document.getElementById('open-terms');
    const modal = document.getElementById('terms-modal');
    const closeModal = document.getElementById('close-terms');

    termsLink.addEventListener('click', (e) => {
      e.preventDefault();
      modal.classList.remove('hidden');
    });

    closeModal.addEventListener('click', () => {
      modal.classList.add('hidden');
    });
  </script>

  <!-- âœ… Load new quantum API script -->
  <script src="script-new.js"></script>
  
  <!-- âœ… Load wallet.js module -->
  <script type="module" src="./wallet.js"></script>

  <!-- âœ… Script using wallet.js functions -->
  <script type="module">
    import { getOrCreateWallet, showWalletInfo } from './wallet.js';

    document.getElementById('form-button').addEventListener('click', () => {
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value.trim();
      const confirmPasswordField = document.getElementById('confirm-password');
      const confirmPassword = confirmPasswordField ? confirmPasswordField.value.trim() : '';
      const isLogin = confirmPasswordField?.style.display === 'none';

      if (!email || !password) {
        alert("Please fill out both fields.");
        return;
      }

      if (!isLogin && password !== confirmPassword) {
        alert("Passwords do not match.");
        return;
      }

      // ðŸŸ¢ Example usage of wallet.js
      const wallet = getOrCreateWallet();
      showWalletInfo(wallet);
    });
  </script>
</body>
</html>